<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visual Website Builder</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a0ca3;
      --secondary: #f72585;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --success: #4cc9f0;
      --warning: #f8961e;
      --danger: #ef233c;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
      --radius: 8px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      display: flex;
      height: 100vh;
      background: #f5f7fa;
      color: var(--dark);
      line-height: 1.6;
    }

    /* Toolbox */
    #toolbox {
      width: 260px;
      background: white;
      padding: 20px;
      border-right: 1px solid #e1e4e8;
      box-shadow: var(--shadow-sm);
      overflow-y: auto;
      z-index: 10;
    }

    #toolbox h3 {
      color: var(--primary-dark);
      margin-bottom: 20px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .element {
      padding: 12px 15px;
      margin: 8px 0;
      background: white;
      border: 1px solid #e1e4e8;
      border-radius: var(--radius);
      cursor: grab;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 500;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
    }

    .element:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
      border-color: var(--primary);
    }

    .element i {
      color: var(--primary);
      width: 20px;
      text-align: center;
    }

    /* Workspace */
    #workspace {
      flex: 1;
      padding: 25px;
      background: #f8fafc;
      overflow: auto;
      position: relative;
    }

    #workspace h2 {
      color: var(--dark);
      margin-bottom: 20px;
      font-weight: 600;
    }

    .droppable {
      min-height: 300px;
      border: 2px dashed #cbd5e1;
      border-radius: var(--radius);
      margin: 20px 0;
      padding: 25px;
      background: white;
      transition: all 0.3s ease;
    }

    .droppable.highlight {
      border-color: var(--primary);
      background: rgba(67, 97, 238, 0.05);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    /* Website Elements */
    .website-element {
      margin: 18px 0;
      padding: 20px;
      border: 1px solid #e2e8f0;
      background: white;
      border-radius: var(--radius);
      position: relative;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
    }

    .website-element:hover {
      box-shadow: var(--shadow-md);
    }

    .website-element.selected {
      outline: 2px solid var(--primary);
      box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.15);
    }

    .delete-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--danger);
      color: white;
      border: none;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      opacity: 0;
      transition: all 0.2s ease;
    }

    .website-element:hover .delete-btn {
      opacity: 1;
    }

    .delete-btn:hover {
      background: #d90429;
      transform: scale(1.1);
    }

    /* Properties Panel */
    #properties {
      width: 280px;
      background: white;
      padding: 20px;
      border-left: 1px solid #e1e4e8;
      overflow-y: auto;
      box-shadow: -2px 0 10px rgba(0,0,0,0.05);
    }

    #properties h3 {
      color: var(--primary-dark);
      margin-bottom: 20px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .property-group {
      margin-bottom: 20px;
    }

    .property-group h4 {
      margin: 5px 0 12px;
      font-size: 15px;
      font-weight: 500;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .property-group h4 i {
      color: var(--gray);
      font-size: 14px;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-size: 13px;
      font-weight: 500;
      color: var(--dark);
    }

    input, textarea, select {
      width: 100%;
      padding: 10px 12px;
      margin-bottom: 12px;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      font-family: inherit;
      font-size: 14px;
      transition: all 0.2s ease;
    }

    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    /* Buttons */
    .action-buttons {
      display: flex;
      gap: 10px;
      margin-top: 30px;
      flex-wrap: wrap;
    }

    button {
      padding: 10px 18px;
      border: none;
      border-radius: 6px;
      font-family: inherit;
      font-weight: 500;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    #preview-btn {
      background: var(--light);
      color: var(--dark);
    }

    #preview-btn:hover {
      background: #e9ecef;
    }

    #publish-btn {
      background: var(--primary);
      color: white;
    }

    #publish-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }

    #clear-btn {
      background: var(--light);
      color: var(--danger);
    }

    #clear-btn:hover {
      background: #ffe3e3;
    }

    button:disabled {
      background: #e9ecef;
      color: #adb5bd;
      cursor: not-allowed;
      transform: none !important;
    }

    /* GitHub Status */
    #auth-status {
      padding: 12px;
      margin-top: 25px;
      border-radius: 6px;
      font-size: 13px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .authenticated {
      background: #ebfbee;
      color: #2b8a3e;
      border: 1px solid #d3f9d8;
    }

    .not-authenticated {
      background: #fff3bf;
      color: #e67700;
      border: 1px solid #ffec99;
    }

    /* Responsive */
    @media (max-width: 1200px) {
      #properties {
        position: absolute;
        right: 0;
        height: 100%;
        transform: translateX(100%);
        transition: transform 0.3s ease;
      }
      #properties.visible {
        transform: translateX(0);
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .website-element {
      animation: fadeIn 0.3s ease forwards;
    }
  </style>
</head>
<body>
  <!-- Elements Toolbox -->
  <div id="toolbox">
    <h3><i class="fas fa-cubes"></i> Elements</h3>
    <div class="element" draggable="true" data-type="heading">
      <i class="fas fa-heading"></i> Heading
    </div>
    <div class="element" draggable="true" data-type="paragraph">
      <i class="fas fa-paragraph"></i> Paragraph
    </div>
    <div class="element" draggable="true" data-type="button">
      <i class="fas fa-hand-pointer"></i> Button
    </div>
    <div class="element" draggable="true" data-type="image">
      <i class="fas fa-image"></i> Image
    </div>
    <div class="element" draggable="true" data-type="divider">
      <i class="fas fa-minus"></i> Divider
    </div>

    <div id="auth-status" class="not-authenticated">
      <i class="fas fa-exclamation-circle"></i> GitHub: Not Connected
    </div>
  </div>

  <!-- Workspace -->
  <div id="workspace">
    <h2><i class="fas fa-pencil-alt"></i> Your Website</h2>
    <div id="page-content" class="droppable">
      <!-- Elements will be added here -->
    </div>
    
    <div class="action-buttons">
      <button id="preview-btn"><i class="fas fa-eye"></i> Preview</button>
      <button id="publish-btn" disabled><i class="fab fa-github"></i> Publish to GitHub</button>
      <button id="clear-btn"><i class="fas fa-trash-alt"></i> Clear All</button>
    </div>
  </div>

  <!-- Properties Panel -->
  <div id="properties">
    <h3><i class="fas fa-sliders-h"></i> Properties</h3>
    <div id="property-editor">
      <p>Select an element to edit its properties</p>
    </div>
  </div>

  <script>
    // Configuration - REPLACE THESE WITH YOUR VALUES
    const GITHUB_CONFIG = {
      user: 'broofnotascammer',
      repo: 'websitecreater2',
      token: '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', // Must have repo permissions
      branch: 'main'
    };

    document.addEventListener('DOMContentLoaded', function() {
      // Verify credentials
      if (GITHUB_CONFIG.user && GITHUB_CONFIG.repo && GITHUB_CONFIG.token) {
        document.getElementById('auth-status').className = 'authenticated';
        document.getElementById('auth-status').innerHTML = 
          `<i class="fas fa-check-circle"></i> GitHub: Connected to ${GITHUB_CONFIG.user}/${GITHUB_CONFIG.repo}`;
        document.getElementById('publish-btn').disabled = false;
      }
      
      let currentElement = null;
      const defaultElements = {
        heading: { text: 'New Heading', level: '2', color: '#000000', align: 'left' },
        paragraph: { text: 'Type your paragraph text here...', color: '#333333', align: 'left' },
        button: { text: 'Click Me', color: '#ffffff', bgColor: '#007bff', url: '#', align: 'left' },
        image: { src: 'https://via.placeholder.com/400x300', alt: 'Sample Image', width: '100%', align: 'center' },
        divider: { height: '2px', color: '#cccccc', width: '100%' }
      };

      // [Rest of your JavaScript code from previous implementation]
      // ... (Include all the JavaScript from the previous example)
      
    });
  </script>
</body>
</html>
